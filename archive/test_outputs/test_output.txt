python : 2025-11-14 09:50:28,405 - INFO - Γ£à User preferences loaded successfully
At line:1 char:1
+ python test_all_mechanisms.py 2>&1 | Out-File -FilePath test_output.t ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (2025-11-14 09:5...ed successfully:String) [], R 
   emoteException
    + FullyQualifiedErrorId : NativeCommandError
 
2025-11-14 09:50:28,406 - INFO - ≡ƒÆ╛ User preferences saved successfully
2025-11-14 09:50:28,458 - INFO - Initializing CrewAI Manager (singleton, lazy loading 
enabled)...
2025-11-14 09:50:28,898 - INFO - {'event': 'safe_modules_loaded', 'modules': ['pd', 'np', 
'json', 'math', 'datetime', 're']}
2025-11-14 09:50:28,899 - INFO - {'event': 'sandbox_initialized', 'max_memory_mb': 256, 
'max_cpu_seconds': 30, 'safe_modules': ['pd', 'np', 'json', 'math', 'datetime', 're']}
2025-11-14 09:50:28,899 - INFO - Using enhanced sandbox with backward compatibility
2025-11-14 09:50:28,899 - INFO - ≡ƒöî AgentRegistry initialized - plugins directory: C:\Users
\mitta\OneDrive\Documents\nexus-llm-analytics-dist\nexus-llm-analytics-dist\src\backend\plugi
ns
2025-11-14 09:50:29,824 - INFO - Γ£à Financial Agent initialized
2025-11-14 09:50:29,824 - INFO -    Currency: USD
2025-11-14 09:50:29,824 - INFO -    Fiscal year start: Month 1
2025-11-14 09:50:29,824 - INFO - ≡ƒÄ» Registered agent: FinancialAgent v1.0.0
2025-11-14 09:50:29,824 - INFO - Γ£à Loaded plugin agent: FinancialAgent
2025-11-14 09:50:30,186 - INFO - Γä╣∩╕Å Plugin MLInsightsAgent skipped (missing optional 
dependencies: ['scikit-learn'])
2025-11-14 09:50:30,186 - INFO - Γ£à Loaded plugin agent: MLInsightsAgent
2025-11-14 09:50:30,317 - INFO - Γ£à SQLAlchemy engine initialized
2025-11-14 09:50:30,317 - INFO - Γ£à Enhanced SQLAgent initialized successfully
2025-11-14 09:50:30,317 - INFO -    Database URL: sqlite:///data/analysis.db
2025-11-14 09:50:30,317 - INFO -    Query timeout: 60s
2025-11-14 09:50:30,317 - INFO -    Max results: 10000
2025-11-14 09:50:30,317 - INFO -    Cache enabled: True
2025-11-14 09:50:30,317 - INFO - ≡ƒÄ» Registered agent: EnhancedSQLAgent v2.0.0
2025-11-14 09:50:30,317 - INFO - Γ£à Loaded plugin agent: SQLAgent
2025-11-14 09:50:30,319 - INFO - Γä╣∩╕Å Plugin StatisticalAgent skipped (missing optional 
dependencies: ['scikit-learn'])
2025-11-14 09:50:30,319 - INFO - Γ£à Loaded plugin agent: StatisticalAgent
2025-11-14 09:50:30,430 - INFO - Γä╣∩╕Å Plugin TimeSeriesAgent skipped (missing optional 
dependencies: ['scikit-learn'])
2025-11-14 09:50:30,430 - INFO - Γ£à Loaded plugin agent: TimeSeriesAgent
2025-11-14 09:50:30,430 - INFO - ≡ƒô¥ Loaded agent configurations from C:\Users\mitta\OneDriv
e\Documents\nexus-llm-analytics-dist\nexus-llm-analytics-dist\src\backend\plugins\agents_conf
ig.json
2025-11-14 09:50:30,430 - INFO - ≡ƒöì Discovered 5 plugin agents
2025-11-14 09:50:30,431 - INFO - Γ£à CrewAI Manager singleton initialized (models will load 
on first request)
2025-11-14 09:50:30,432 - INFO - ≡ƒöä Initializing LLM models and components (import 
optimized)...
2025-11-14 09:50:30,432 - WARNING - ΓÜá∩╕Å Background loading timeout/failed, falling back 
to synchronous import
2025-11-14 09:50:30,432 - INFO - ≡ƒôª Performing synchronous CrewAI import...
2025-11-14 09:50:32,796 - INFO - HTTP Request: GET 
https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json 
"HTTP/1.1 200 OK"
2025-11-14 09:50:35,024 - INFO - Γ£à Synchronous CrewAI import completed in 4.59s
2025-11-14 09:50:35,045 - INFO - System Memory: 15.7GB total, 3.2GB available
2025-11-14 09:50:37,093 - INFO - Γ£à Found 4 installed models from Ollama
2025-11-14 09:50:37,093 - INFO - Γ£à Using preferred primary model: phi3:mini (needs 2.4GB, 
have 3.2GB)
2025-11-14 09:50:37,094 - INFO - Γ£à Using preferred review model: phi3:mini (needs 2.4GB, 
have 3.2GB)
2025-11-14 09:50:37,094 - INFO - ≡ƒñû Selected models - Primary: ollama/phi3:mini, Review: 
ollama/phi3:mini, Embedding: ollama/nomic-embed-text:latest
2025-11-14 09:50:37,125 - INFO -   Skipping embedding model: nomic-embed-text:latest
2025-11-14 09:50:37,125 - INFO - ≡ƒöì Detected 3 available models: ['tinyllama:latest', 
'llama3.1:8b', 'phi3:mini']
2025-11-14 09:50:37,125 - INFO - ≡ƒÄ» [MODEL DETECTOR] Tier Mapping:
2025-11-14 09:50:37,125 - INFO -   FAST: tinyllama:latest
2025-11-14 09:50:37,125 - INFO -   BALANCED: phi3:mini
2025-11-14 09:50:37,125 - INFO -   FULL_POWER: llama3.1:8b
2025-11-14 09:50:37,125 - INFO - ≡ƒöì Detected models for intelligent routing:
2025-11-14 09:50:37,125 - INFO -   FAST: tinyllama:latest
2025-11-14 09:50:37,125 - INFO -   BALANCED: phi3:mini
2025-11-14 09:50:37,125 - INFO -   FULL_POWER: llama3.1:8b
2025-11-14 09:50:37,125 - INFO - Γ£à Intelligent Router initialized with dynamic model 
detection
2025-11-14 09:50:39,177 - INFO - Γ£à Found 4 installed models from Ollama
2025-11-14 09:50:39,177 - INFO - ≡ƒñû LLMClient initialized - Primary: phi3:mini, Review: 
phi3:mini
2025-11-14 09:50:39,195 - INFO - Anonymized telemetry enabled. See                     
https://docs.trychroma.com/telemetry for more information.
2025-11-14 09:50:39,262 - INFO - Γ£à Models and components initialized successfully
2025-11-14 09:50:39,262 - INFO - Starting structured data analysis (attempt 1/3)
2025-11-14 09:50:39,263 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:50:39,263 - INFO - Parsing query: How many total rows are in the dataset?
2025-11-14 09:51:07,753 - WARNING - LLM enhanced parsing failed: Expecting value: line 1 
column 1 (char 0)
2025-11-14 09:51:07,754 - INFO - Parsed query result: intent=aggregate, confidence=0.30
2025-11-14 09:51:07,754 - INFO - Parsed query intent: aggregate, confidence: 0.3
2025-11-14 09:51:07,754 - ERROR - Structured data analysis failed (attempt 1/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:51:07,754 - INFO - Retrying analysis... (1/2)
2025-11-14 09:51:07,754 - INFO - Attempting retry with review model for redundancy
2025-11-14 09:51:07,754 - INFO - Starting structured data analysis (attempt 2/3)
2025-11-14 09:51:07,754 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:51:07,754 - INFO - Parsing query: How many total rows are in the dataset?
2025-11-14 09:51:20,984 - WARNING - LLM enhanced parsing failed: Extra data: line 10 column 
1 (char 143)
2025-11-14 09:51:20,984 - INFO - Parsed query result: intent=aggregate, confidence=0.30
2025-11-14 09:51:20,984 - INFO - Parsed query intent: aggregate, confidence: 0.3
2025-11-14 09:51:20,984 - ERROR - Structured data analysis failed (attempt 2/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:51:20,984 - INFO - Retrying analysis... (2/2)
2025-11-14 09:51:20,984 - INFO - Starting structured data analysis (attempt 3/3)
2025-11-14 09:51:20,985 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:51:20,985 - INFO - Parsing query: How many total rows are in the dataset?
2025-11-14 09:51:41,199 - WARNING - LLM enhanced parsing failed: Expecting value: line 1 
column 1 (char 0)
2025-11-14 09:51:41,199 - INFO - Parsed query result: intent=aggregate, confidence=0.30
2025-11-14 09:51:41,199 - INFO - Parsed query intent: aggregate, confidence: 0.3
2025-11-14 09:51:41,199 - ERROR - Structured data analysis failed (attempt 3/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:51:41,200 - INFO - Starting structured data analysis (attempt 1/3)
2025-11-14 09:51:41,201 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:51:41,201 - INFO - Parsing query: What is the sum of sales revenue?
2025-11-14 09:51:54,491 - WARNING - LLM enhanced parsing failed: Expecting value: line 1 
column 1 (char 0)
2025-11-14 09:51:54,491 - INFO - Parsed query result: intent=aggregate, confidence=0.30
2025-11-14 09:51:54,491 - INFO - Parsed query intent: aggregate, confidence: 0.3
2025-11-14 09:51:54,491 - ERROR - Structured data analysis failed (attempt 1/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:51:54,491 - INFO - Retrying analysis... (1/2)
2025-11-14 09:51:54,491 - INFO - Attempting retry with review model for redundancy
2025-11-14 09:51:54,491 - INFO - Starting structured data analysis (attempt 2/3)
2025-11-14 09:51:54,492 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:51:54,492 - INFO - Parsing query: What is the sum of sales revenue?
2025-11-14 09:52:00,559 - WARNING - LLM enhanced parsing failed: Expecting value: line 1 
column 1 (char 0)
2025-11-14 09:52:00,559 - INFO - Parsed query result: intent=aggregate, confidence=0.30
2025-11-14 09:52:00,559 - INFO - Parsed query intent: aggregate, confidence: 0.3
2025-11-14 09:52:00,559 - ERROR - Structured data analysis failed (attempt 2/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:52:00,559 - INFO - Retrying analysis... (2/2)
2025-11-14 09:52:00,559 - INFO - Starting structured data analysis (attempt 3/3)
2025-11-14 09:52:00,560 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:52:00,560 - INFO - Parsing query: What is the sum of sales revenue?
2025-11-14 09:52:06,449 - WARNING - LLM enhanced parsing failed: Expecting value: line 1 
column 1 (char 0)
2025-11-14 09:52:06,449 - INFO - Parsed query result: intent=aggregate, confidence=0.30
2025-11-14 09:52:06,449 - INFO - Parsed query intent: aggregate, confidence: 0.3
2025-11-14 09:52:06,449 - ERROR - Structured data analysis failed (attempt 3/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:52:06,449 - INFO - Starting structured data analysis (attempt 1/3)
2025-11-14 09:52:06,449 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:52:06,450 - INFO - Parsing query: Show me the top 5 products by sales
2025-11-14 09:52:40,932 - WARNING - LLM enhanced parsing failed: Expecting value: line 1 
column 1 (char 0)
2025-11-14 09:52:40,933 - INFO - Parsed query result: intent=custom, confidence=0.00
2025-11-14 09:52:40,933 - INFO - Parsed query intent: custom, confidence: 0.0
2025-11-14 09:52:40,933 - ERROR - Structured data analysis failed (attempt 1/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:52:40,933 - INFO - Retrying analysis... (1/2)
2025-11-14 09:52:40,933 - INFO - Attempting retry with review model for redundancy
2025-11-14 09:52:40,933 - INFO - Starting structured data analysis (attempt 2/3)
2025-11-14 09:52:40,933 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:52:40,933 - INFO - Parsing query: Show me the top 5 products by sales
2025-11-14 09:52:47,388 - WARNING - LLM enhanced parsing failed: Expecting value: line 1 
column 1 (char 0)
2025-11-14 09:52:47,388 - INFO - Parsed query result: intent=custom, confidence=0.00
2025-11-14 09:52:47,388 - INFO - Parsed query intent: custom, confidence: 0.0
2025-11-14 09:52:47,388 - ERROR - Structured data analysis failed (attempt 2/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:52:47,388 - INFO - Retrying analysis... (2/2)
2025-11-14 09:52:47,388 - INFO - Starting structured data analysis (attempt 3/3)
2025-11-14 09:52:47,388 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:52:47,388 - INFO - Parsing query: Show me the top 5 products by sales
2025-11-14 09:53:11,544 - WARNING - LLM enhanced parsing failed: Expecting value: line 1 
column 1 (char 0)
2025-11-14 09:53:11,545 - INFO - Parsed query result: intent=custom, confidence=0.00
2025-11-14 09:53:11,545 - INFO - Parsed query intent: custom, confidence: 0.0
2025-11-14 09:53:11,545 - ERROR - Structured data analysis failed (attempt 3/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:53:11,545 - INFO - Starting structured data analysis (attempt 1/3)
2025-11-14 09:53:11,546 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:53:11,546 - INFO - Parsing query: Compare sales performance between regions 
and identify trends
2025-11-14 09:53:35,712 - WARNING - LLM enhanced parsing failed: Expecting value: line 1 
column 1 (char 0)
2025-11-14 09:53:35,713 - INFO - Parsed query result: intent=compare, confidence=0.30
2025-11-14 09:53:35,713 - INFO - Parsed query intent: compare, confidence: 0.3
2025-11-14 09:53:35,713 - ERROR - Structured data analysis failed (attempt 1/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:53:35,713 - INFO - Retrying analysis... (1/2)
2025-11-14 09:53:35,713 - INFO - Attempting retry with review model for redundancy
2025-11-14 09:53:35,713 - INFO - Starting structured data analysis (attempt 2/3)
2025-11-14 09:53:35,713 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:53:35,713 - INFO - Parsing query: Compare sales performance between regions 
and identify trends
2025-11-14 09:53:49,049 - WARNING - LLM enhanced parsing failed: Expecting ',' delimiter: 
line 7 column 5 (char 508)
2025-11-14 09:53:49,049 - INFO - Parsed query result: intent=compare, confidence=0.30
2025-11-14 09:53:49,049 - INFO - Parsed query intent: compare, confidence: 0.3
2025-11-14 09:53:49,049 - ERROR - Structured data analysis failed (attempt 2/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:53:49,049 - INFO - Retrying analysis... (2/2)
2025-11-14 09:53:49,049 - INFO - Starting structured data analysis (attempt 3/3)
2025-11-14 09:53:49,050 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:53:49,050 - INFO - Parsing query: Compare sales performance between regions 
and identify trends
2025-11-14 09:53:57,390 - WARNING - LLM enhanced parsing failed: Expecting value: line 1 
column 1 (char 0)
2025-11-14 09:53:57,390 - INFO - Parsed query result: intent=compare, confidence=0.30
2025-11-14 09:53:57,390 - INFO - Parsed query intent: compare, confidence: 0.3
2025-11-14 09:53:57,390 - ERROR - Structured data analysis failed (attempt 3/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:53:57,391 - INFO - Starting structured data analysis (attempt 1/3)
2025-11-14 09:53:57,391 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:53:57,391 - INFO - Parsing query: Analyze correlation between price, marketing 
spend, and sales. Predict next quarter revenue using regression
2025-11-14 09:54:11,718 - WARNING - LLM enhanced parsing failed: Expecting value: line 1 
column 1 (char 0)
2025-11-14 09:54:11,718 - INFO - Parsed query result: intent=compare, confidence=0.30
2025-11-14 09:54:11,718 - INFO - Parsed query intent: compare, confidence: 0.3
2025-11-14 09:54:11,718 - ERROR - Structured data analysis failed (attempt 1/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:54:11,718 - INFO - Retrying analysis... (1/2)
2025-11-14 09:54:11,718 - INFO - Attempting retry with review model for redundancy
2025-11-14 09:54:11,718 - INFO - Starting structured data analysis (attempt 2/3)
2025-11-14 09:54:11,718 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:54:11,718 - INFO - Parsing query: Analyze correlation between price, marketing 
spend, and sales. Predict next quarter revenue using regression
2025-11-14 09:54:19,859 - ERROR - Query parsing failed: 'analyze correlation and predict 
next quarter revenue using regression' is not a valid QueryIntent
2025-11-14 09:54:19,859 - INFO - Parsed query intent: custom, confidence: 0.0
2025-11-14 09:54:19,859 - ERROR - Structured data analysis failed (attempt 2/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:54:19,859 - INFO - Retrying analysis... (2/2)
2025-11-14 09:54:19,859 - INFO - Starting structured data analysis (attempt 3/3)
2025-11-14 09:54:19,859 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:54:19,859 - INFO - Parsing query: Analyze correlation between price, marketing 
spend, and sales. Predict next quarter revenue using regression
2025-11-14 09:54:39,214 - WARNING - LLM enhanced parsing failed: Expecting value: line 1 
column 1 (char 0)
2025-11-14 09:54:39,214 - INFO - Parsed query result: intent=compare, confidence=0.30
2025-11-14 09:54:39,214 - INFO - Parsed query intent: compare, confidence: 0.3
2025-11-14 09:54:39,214 - ERROR - Structured data analysis failed (attempt 3/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:54:39,214 - INFO - Starting structured data analysis (attempt 1/3)
2025-11-14 09:54:39,215 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:54:39,215 - INFO - Parsing query: Perform multivariate analysis to identify 
key factors driving customer churn. Use statistical significance testing
2025-11-14 09:55:07,423 - WARNING - LLM enhanced parsing failed: Expecting value: line 1 
column 1 (char 0)
2025-11-14 09:55:07,423 - INFO - Parsed query result: intent=custom, confidence=0.00
2025-11-14 09:55:07,423 - INFO - Parsed query intent: custom, confidence: 0.0
2025-11-14 09:55:07,423 - ERROR - Structured data analysis failed (attempt 1/3): cannot 
access local variable 'optimized_data' where it is not associated with a value
2025-11-14 09:55:07,423 - INFO - Retrying analysis... (1/2)
2025-11-14 09:55:07,423 - INFO - Attempting retry with review model for redundancy
2025-11-14 09:55:07,423 - INFO - Starting structured data analysis (attempt 2/3)
2025-11-14 09:55:07,424 - WARNING - Could not optimize data: No module named 'utils'
2025-11-14 09:55:07,424 - INFO - Parsing query: Perform multivariate analysis to identify 
key factors driving customer churn. Use statistical significance testing
