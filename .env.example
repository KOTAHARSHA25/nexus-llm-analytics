# ============================================================================
# NEXUS LLM ANALYTICS - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and customize values for your environment
# All settings have safe defaults, only change what you need
# ============================================================================

# ============================================================================
# üî¥ CRITICAL: REQUIRED SETTINGS
# ============================================================================
# These MUST be set for the application to start

# Ollama LLM Server Configuration
OLLAMA_BASE_URL=http://localhost:11434

# Data Storage Paths
UPLOAD_DIRECTORY=./data/uploads
CHROMADB_PERSIST_DIRECTORY=./chroma_db

# ============================================================================
# üü° CORE APPLICATION SETTINGS
# ============================================================================

# Environment Mode (development, production, testing)
ENVIRONMENT=development
DEBUG=false

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=1
RELOAD=true

# CORS Settings (comma-separated origins for frontend)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# ============================================================================
# ü§ñ AI MODEL CONFIGURATION
# ============================================================================

# Automatic Model Selection (recommended: true)
AUTO_MODEL_SELECTION=true

# Model Preferences (only used if AUTO_MODEL_SELECTION=false)
# Leave blank to let system choose based on available RAM
PRIMARY_MODEL=
REVIEW_MODEL=
EMBEDDING_MODEL=

# Advanced: Override auto-selected models (optional)
PREFERRED_PRIMARY_MODEL=
PREFERRED_REVIEW_MODEL=

# Memory Management
ALLOW_SWAP_USAGE=false
MEMORY_BUFFER_GB=0.5

# ============================================================================
# üìÅ FILE & DATA PROCESSING
# ============================================================================

# Upload Limits
MAX_FILE_SIZE=104857600  # 100MB in bytes
ALLOWED_FILE_EXTENSIONS=csv,json,txt,pdf,xlsx,xls

# Report Generation
REPORTS_DIRECTORY=./reports
REPORT_TEMPLATE=templates/report.html
MAX_REPORT_SIZE_MB=50

# ============================================================================
# üîí SECURITY SETTINGS
# ============================================================================

# Code Sandbox (CRITICAL for security - keep enabled)
ENABLE_CODE_SANDBOX=true
SANDBOX_TIMEOUT=30
SANDBOX_MAX_MEMORY_MB=256

# Rate Limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_RPM=60
RATE_LIMIT_RPH=1000
RATE_LIMIT_BURST=10

# ============================================================================
# üìä DATABASE & STORAGE
# ============================================================================

# ChromaDB Vector Store
CHROMADB_COLLECTION_NAME=nexus_documents

# ============================================================================
# ‚ö° PERFORMANCE TUNING
# ============================================================================

# Caching
ENABLE_CACHE=true
CACHE_TTL=3600
CACHE_MAX_SIZE=100

# Concurrency
MAX_CONCURRENT_ANALYSES=3
ANALYSIS_TIMEOUT=300

# Memory Optimization
ENABLE_MEMORY_OPTIMIZATION=true

# LLM Timeouts
LLM_TIMEOUT=1200
LLM_MAX_RETRIES=3

# Polars Performance
POLARS_SKIP_CPU_CHECK=true

# ============================================================================
# üìù LOGGING CONFIGURATION
# ============================================================================

LOG_LEVEL=INFO
LOG_FILE=logs/nexus.log
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# ============================================================================
# üé® FEATURE FLAGS
# ============================================================================

# WebSocket Support (experimental)
ENABLE_WEBSOCKETS=false

# Export Features
ENABLE_EXPORT_EXCEL=true
ENABLE_EXPORT_PDF=true
ENABLE_ADV_VIZ=true

# ============================================================================
# üìö API DOCUMENTATION
# ============================================================================

DOCS_URL=/docs
REDOC_URL=/redoc
OPENAPI_URL=/openapi.json

# ============================================================================
# üîç TROUBLESHOOTING
# ============================================================================
# If experiencing issues:
# 1. Ensure Ollama is running: ollama serve
# 2. Check Ollama models installed: ollama list
# 3. Verify directories exist and are writable
# 4. Check logs in: logs/nexus.log
# 5. Test config validation: python -m backend.core.config
# ============================================================================

# ============================================================================
# üìñ CONFIGURATION REFERENCE
# ============================================================================
# For detailed explanations of each setting, see:
# - docs/BACKEND_CONFIG_QUICKREF.md
# - src/backend/core/config.py
# ============================================================================
